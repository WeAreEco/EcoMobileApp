(this.webpackJsonpecopay=this.webpackJsonpecopay||[]).push([[0],{109:function(e,t,a){e.exports=a(276)},114:function(e,t,a){},128:function(e,t,a){},163:function(e,t){},216:function(e,t){e.exports="data:image/png;base64,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"},217:function(e,t,a){},218:function(e,t,a){e.exports=a.p+"static/media/opinion.400157bb.png"},219:function(e,t,a){e.exports=a.p+"static/media/clock.65370801.png"},273:function(e,t,a){},274:function(e,t,a){},276:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(24),r=a.n(c),i=(a(114),a(18)),l=a.n(i),s=a(31),u=a(4),d=a(50),f=a(102),p=a(13),m=a(14),v=a(17),g=a(16),h=a(62),b=a(34),y=a(107),k=a(104),w=a.n(k),E=(a(128),a(2)),A={"7_day_global_travel_cover":{active:!0,caption:"7 Day Global Travel Cover",description:"Taking care of the travel community with hassle-free-travel insurance through your smartphone. Explanations in plain English, and it's easy to tailor your cover and see instant price changes. So it's clear what you're buying and what you're covered for.",footer_1:"\xa39 one off cost",footer_2:"Save \xa35 on average",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages_quickbuy%2F7%20Day%20Global%20Travel%20Cover.png?alt=media&token=fa46c033-5b77-4d12-bd5c-0090327c121e",isgroup:0,order:7,price:9,type:1},cycling:{active:!1,caption:"Happy Cycling Pack",contents:["Dedicated cycling concierge","Bike cover of up to \xa31000","No excess","Gold Lock","Smart Bike Tracking Sticker","Cycling discounts & access"],description:"Smooth cycling. A dedicated concierge with seamless cover.",footer_1:"\xa310 cost per month",footer_2:"Save \xa3210+ per month",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fbike.jpg?alt=media&token=a48f5b59-9730-4f23-a7df-d7359b577108",isgroup:0,order:5,price:10,type:0},daily_workspace_pass:{active:!0,caption:"Daily Workspace Pass",description:"Discover spaces that inspire your most impactful work, on demand. Our co-working spaces create a community of people who work to make a life, not just a living.\\n They're beautifully designed, stocked with premium amenities.",footer_1:"\xa35 cost per day",footer_2:"Save \xa315 on average",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages_quickbuy%2FDaily%20Workspace%20Access.png?alt=media&token=127fb742-b0f4-4024-9662-8c64ea2d1f65",isgroup:0,order:6,price:5,type:1},gold:{active:!0,caption:"Renter Pack",contents:["Rent without a deposit","Verified renter ID & certificate to share","Damage, Default & Void - No excess","Legal cover for your landlord","Monthly & End of Tenancy Cleaning","Key warrantly and replacement (No excess)"],description:"Rent without a deposit, while covering all risk & cleaning.",footer_1:"\xa350 cost per month",footer_2:"Save \xa3410+ per month",for:1,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fgold.jpg?alt=media&token=7c6d32de-e497-4985-be94-d2ee36706b8c",isgroup:1,order:4,price:50,type:0},health_fitness:{active:!1,caption:"Health & Fitness Pack",contents:["Healthy, well & fit tracker","24 hour health concierge","Access to classes","Access to gyms","Peloton Live Pass","Fitbit watch"],description:"A bespoke health concierge building your wellness, with insider access.",footer_1:"\xa350 cost per month",footer_2:" Save \xa344+ per month",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fhealth.jpg?alt=media&token=8823faaa-fe3c-416e-b70e-e17e3dc097b8",isgroup:0,order:2,price:50,type:0},home:{active:!0,caption:"Serviced Home Pack",contents:["Home concierge services","Energy & Water","Wifi & Netflix","Emergency Maintenance","All Damage","Legal cover & landlord enforcement","Monthly & Checkout Clean"],description:"The dream serviced home, its like staying in a luxury hotel",footer_1:"\xa3200 cost per month",footer_2:"Save \xa3120+ per month",for:1,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fhome.jpg?alt=media&token=3f137ec4-a6c9-47fe-8f84-e8c2c036d1e7",isgroup:1,order:3,price:200,type:0},member:{active:!0,caption:"Membership Pack",contents:["VIP concierge & access","Cashback card - 8-15% back","50% Dining and Cinema","Socials & Parties","Art & Culture","Free monthly mocktail, cocktail or beer","Monthly credit rating update in app"],description:"A VIP Concierge and membership, for those who deserve more for less",footer_1:"\xa310 cost per month",footer_2:"Save \xa3100+ per month",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fmembership.jpg?alt=media&token=1e6fbb2c-a5e4-4031-894c-23207e58a835",isgroup:0,order:0,price:9.99,type:0},mobile_card_reader:{active:!1,caption:"Mobile Card Reader",description:"Take payments with flexible connection by Bluetooth, Wi-Fi and GPRS. It's easy to take payments where your customers are. Accept all major credit and debit cards including Visa, Mastercard, Diners Club International, Discover and American Express.",footer_1:"\xa325+VAT cost per month",footer_2:"Save 15 hours a month",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2FMobile%20Card%20Reader.png?alt=media&token=d1389590-928c-48a0-99c0-2b61e75d5d65",isgroup:0,order:1,price:10,type:0},owner_home:{active:!0,caption:"Serviced Home Pack",contents:["Home concierge services","Energy & Water","Wifi & Netflix","All Maintenance","All Damage","Monthly Cleaning"],description:"The Dream serviced home, its like staying in a luxury hotel",footer_1:"\xa3150 cost per month",footer_2:"Save \xa3120+ per month",for:2,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fmembership.jpg?alt=media&token=1e6fbb2c-a5e4-4031-894c-23207e58a835",isgroup:1,order:3,price:150,type:0}};a(138);var C={apiKey:"AIzaSyBlBJtz1oV7_pWAyjrlkxdJ7ZenisHP5sk",projectId:"boltconcierge-2f0f9",databaseURL:"https://boltconcierge-2f0f9.firebaseio.com",storageBucket:"boltconcierge-2f0f9.appspot.com"};function j(e,t){return e.reduce((function(e,a){return n=a,e.some((function(e){return e[t]===n[t]}))?e:e.concat([a]);var n}),[])}var x=function(e,t){return e<t?e+t:t+e},S=function(){function e(){Object(p.a)(this,e)}return Object(m.a)(e,null,[{key:"initialize",value:function(){E.initializeApp(C)}},{key:"storage",value:function(){return E.storage()}},{key:"getStorage",value:function(){return E.storage}},{key:"firestore",value:function(){return E.firestore()}},{key:"getAllUsersInBrand",value:function(t){return"Ecosystem"===t?e.firestore().collection("user").get().then((function(e){return e.docs.map((function(e){return e.data()}))})):e.firestore().collection(t).doc("data").collection("user").get().then((function(e){return e.docs.map((function(e){return e.data()}))}))}},{key:"getBrandDataByName",value:function(e,t){E.database().ref("brands").orderByChild("name").equalTo(e).on("value",(function(e){var a;a=e.val();var n=Object.values(a).find((function(e){return!e.deactive}));t(n)}))}},{key:"uploadImage",value:function(e,t,a){var n=this,o="/"+a+"/"+t.replace(/[^a-zA-Z]/g,"")+(new Date).valueOf()+".png";return new Promise((function(t,a){var c=n.storage().ref(o);c.putString(e,"base64").then((function(e){c.getDownloadURL().then((function(e){t(e)})).catch((function(e){a(e)}))}))}))}},{key:"addPost",value:function(){var e=Object(s.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.firestore.Timestamp.fromDate(new Date);case 2:return n=e.sent,e.abrupt("return",E.firestore().collection(a).doc("data").collection("post").add({title:t.title,content:t.content,uid:t.uid,timestamp:n,img_url:t.image_url,type:t.type,topic:t.topic,accepted:""}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getUserDatafromUID",value:function(e,t){E.firestore().collection("user").doc("".concat(e)).get().then((function(e){t(e.data())})).catch((function(e){}))}},{key:"getCommunityChats",value:function(e,t,a){var n="community_livechat/"+x(e,t);E.database().ref(n).on("value",(function(e){var t=[],n=e.val();if(n)for(var o in n)t.push(Object(u.a)({messageId:o},n[o]));a(t)}))}},{key:"addCommunityChat",value:function(e,t,a,n){var o=x(e,t),c="community_livechat/".concat(o);E.database().ref(c).push(a,n)}},{key:"removeCommunityChat",value:function(e,t,a,n){var o=x(e,t),c="community_livechat/".concat(o,"/").concat(a);E.database().ref(c).remove(n)}},{key:"getAllTokenEarnings",value:function(t){return e.firestore().collection("token_earning").onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(Object(u.a)({id:e.id},e.data()))})),t(a)}))}},{key:"getAllTicketsById",value:function(e,t){var a="livechat/"+e+"/tickets";E.database().ref(a).on("value",(function(e){var a=[];e.val()&&(a=e.val()),t(a)}))}},{key:"getAllItem",value:function(e){E.database().ref("chatbot/quez").once("value",(function(t){var a=[];t.val()&&(a=t.val());var n=j(a,"item").map((function(e){return e.item}));e(n)}))}},{key:"getAllRoom",value:function(e){E.database().ref("chatbot/rooms").once("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))}},{key:"getAllAdjective",value:function(e){E.database().ref("chatbot/quez").once("value",(function(t){var a=[];t.val()&&(a=t.val());var n=j(a,"adjective").map((function(e){return e.adjective}));e(n)}))}},{key:"getAllWellness",value:function(e){E.database().ref("wellness_tickets").once("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))}},{key:"getRoomByItem",value:function(e,t){E.database().ref("chatbot/quez").orderByChild("item").equalTo(e).once("value",(function(e){var a=[];e.val()&&(a=e.val());var n=(a=Object.values(a)).map((function(e){return{value:e.adjective,label:e.adjective.toLowerCase()}}));if(a.pop().room){var o=j(a,"room").map((function(e){return e.room}));t(o,n)}else t(null,n)}))}},{key:"getLocationByCuisine",value:function(e,t){E.database().ref("restaurant_foods/").orderByChild("cuisine").equalTo(e).once("value",(function(e){var a=[];e.val()&&(a=e.val());var n=j(a=Object.values(a),"location");t(n)}))}},{key:"getAllLocations",value:function(e){E.database().ref("restaurant_foods/").once("value",(function(t){var a=[];t.val()&&(a=t.val());var n=j(a,"location");e(n)}))}},{key:"getAllCuisines",value:function(e){E.database().ref("restaurant_foods/").once("value",(function(t){var a=[];t.val()&&(a=t.val());var n=j(a,"cuisine").map((function(e){return e.cuisine}));e(n)}))}},{key:"getChats",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t+"/content";E.database().ref(n).on("value",(function(e){var t=[];e.val()&&(t=e.val()),a(t)}))}},{key:"getTicketData",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t;E.database().ref(n).on("value",(function(e){var t=[];e.val()&&(t=e.val()),a(t)}))}},{key:"getChatsById",value:function(e,t){var a="livechat/"+e+"/unread";E.database().ref(a).on("value",(function(e){var a=null;e.val()&&(a=e.val()),t(a)}))}},{key:"addMessage",value:function(e,t,a,n){var o="livechat/"+e+"/tickets/"+t+"/content";E.database().ref(o).push().set(a,n(!0))}},{key:"getAllSuperAdmins",value:function(e){E.database().ref("agencies/").orderByChild("role").equalTo(0).on("value",(function(t){var a;a=t.val();var n=Object.values(a);e(n)}))}},{key:"getAgencyTyping",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t+"/agency_typing";E.database().ref(n).on("value",(function(e){e.val()?a(e.val()):a(!1)}))}},{key:"getLandlordTyping",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t+"/landlord_typing";E.database().ref(n).on("value",(function(e){e.val()?a(e.val()):a(!1)}))}},{key:"getContractorTyping",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t+"/contractor_typing";E.database().ref(n).on("value",(function(e){e.val()?a(e.val()):a(!1)}))}},{key:"getStatus",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t+"/status";E.database().ref(n).on("value",(function(e){e.val()&&a(e.val())}))}},{key:"terminateChat",value:function(e,t){var a="livechat/"+e+"/tickets/"+t;return new Promise((function(e,t){E.database().ref(a).update({content:null,status:"Closed"}).then((function(){e("success")})).catch((function(e){t(e)}))}))}},{key:"setTypeValue",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t;E.database().ref(n).update({user_typing:a})}},{key:"addAvatar",value:function(e,t){var a=this;return new Promise((function(n,o){var c=a.storage().ref("/avatars/".concat(e,".png"));c.putString(t,"base64").then((function(e){c.getDownloadURL().then((function(e){n(e)})).catch((function(e){o(e),console.log(e.message)}))})).catch((function(e){o(e)}))}))}},{key:"updateUserById",value:function(e,t,a){return new Promise((function(n,o){("Ecosystem"===t?E.firestore().collection("user"):E.firestore().collection(t).doc("data").collection("user")).doc("".concat(e)).set(a,{merge:!0})}))}},{key:"addPaymentMethod",value:function(e,t,a){return new Promise((function(n,o){("Ecosystem"===e?E.firestore().collection("user"):E.firestore().collection(e).doc("data").collection("user")).doc(t).collection("braintree_payment_method").add(a).then((function(e){n(e)})).catch((function(e){o(e)}))}))}},{key:"getAllPaymentMethods",value:function(e,t,a){("Ecosystem"===e?E.firestore().collection("user"):E.firestore().collection(e).doc("data").collection("user")).doc(t).collection("braintree_payment_method").onSnapshot((function(e){a(e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})})))}))}},{key:"removePaymentMethod",value:function(e,t,a){return("Ecosystem"===e?E.firestore().collection("user"):E.firestore().collection(e).doc("data").collection("user")).doc(t).collection("braintree_payment_method").doc(a).delete()}},{key:"addSubscription",value:function(e,t,a,n,o,c,r){return new Promise((function(i,l){("Ecosystem"===e?E.firestore().collection("user"):E.firestore().collection(e).doc("data").collection("user")).doc(t).collection("subscriptions").add({product_id:a,type:o,status:n,credit_card:c,amount:r}).then((function(e){i(e)})).catch((function(e){l(e)}))}))}},{key:"getAllSubscriptions",value:function(e,t,a){("Ecosystem"===e?E.firestore().collection("user"):E.firestore().collection(e).doc("data").collection("user")).doc(t).collection("subscriptions").onSnapshot((function(e){a(e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})})))}))}}]),e}();S.getAllBrands=function(e){E.database().ref("brands").on("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))},S.updateUserData=function(e,t,a){return new Promise((function(n,o){var c;(c="Ecosystem"===e?E.firestore().collection("user"):E.firestore().collection(e).doc("data").collection("user")).doc("".concat(t)).set(a,{merge:!0}).then((function(e){c.doc("".concat(t)).get().then((function(e){n(e.data())})).catch((function(e){o(e)}))})).catch((function(e){o(e)}))}))},S.saveTokenSpentHistory=function(e,t,a){return new Promise((function(n,o){("Ecosystem"===e?E.firestore().collection("user"):E.firestore().collection(e).doc("data").collection("user")).doc("".concat(t)).collection("token_history").add(a).then((function(e){n(e)})).catch((function(e){o(e)}))}))},S.getBoltPackages=function(e){E.database().ref("packages/").on("value",(function(t){var a;a=t.val(),e(a)}))},S.getPollsData=function(e){return new Promise((function(t,a){E.firestore().collection(e).doc("data").collection("user").get().then((function(e){var a=[];e.forEach((function(e){var t=e.data();a.push(t)})),t(a)})).catch((function(e){a(e)}))}))},S.subscribeUserDatafromUID=function(e,t,a){"Ecosystem"!==e?E.firestore().collection(e).doc("data").collection("user").doc("".concat(t)).onSnapshot((function(e){a(e.data())})):E.firestore().collection("user").doc("".concat(t)).onSnapshot((function(e){a(e.data())}))},S.addFriend=function(e,t,a){return new Promise((function(n,o){"Ecosystem"!==a?E.firestore().collection("".concat(a)).doc("data").collection("user").where("phonenumber","==",t).get().then((function(c){c.size?n(null):E.firestore().collection("".concat(a)).doc("data").collection("user").add({firstname:e,phonenumber:t,tokens:300}).then((function(e){n(e)})).catch((function(){o(null)}))})).catch((function(){o(null)})):E.firestore().collection("user").where("phonenumber","==",t).get().then((function(c){c.size?o(null):E.firestore().collection("".concat(a)).add({firstname:e,phonenumber:t,tokens:300}).then((function(e){n(e)})).catch((function(){o(null)}))})).catch((function(){o(null)}))}))},S.updateBrandPackage=function(e){var t="brands/"+e;E.database().ref(t).update({packages:A})},S.getAllRetailers=function(e){E.database().ref("retailers/all").on("value",(function(t){var a;a=t.val();var n=Object.keys(a).map((function(e){return Object(u.a)({uid:e},a[e])}));e(n)}))},S.getAllRetailersOnce=function(e){E.database().ref("retailers/all").once("value",(function(t){var a;a=t.val();var n=Object.keys(a).map((function(e){return Object(u.a)({uid:e},a[e])}));e(n)}))},S.getAllDeactiveRetailers=function(e){E.database().ref("retailers/deactive").on("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))},S.getAllDeactiveRetailersOnce=function(e){E.database().ref("retailers/deactive").once("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))},S.getAllOffers=function(e){E.database().ref("offers/redeem_offers").on("value",(function(t){var a;a=t.val();var n=Object.values(a);e(n)}))},S.getAllDeactiveOffers=function(e){E.database().ref("offers/deactive_offers").on("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))},S.getServicesRouting=function(e,t){E.database().ref("brands").orderByChild("name").equalTo(e).on("value",(function(e){var a;a=e.val();var n=Object.values(a)[0];t(n.services_routing)}))},S.getTier1byID=function(e){var t="tier1/"+e;return new Promise((function(e,a){E.database().ref(t).once("value",(function(t){var a=t.val();e(a)}))}))},S.getCategorybyID=function(e){var t="categories/"+e;return new Promise((function(e,a){E.database().ref(t).once("value",(function(t){var a=t.val();e(a)}))}))},S.getCategoryIDbyTitle=function(e){return new Promise((function(t,a){E.database().ref("categories").orderByChild("topic").equalTo(e).once("value",(function(e){var a=[];e.val()&&(a=Object.keys(e.val())),a.length>0?t(a[0]):t(!1)}))}))},S.signup=function(e,t){var a=e.phonenumber;return new Promise((function(n,o){"Ecosystem"!==t?E.firestore().collection("".concat(t)).doc("data").collection("user").where("phonenumber","==",a).get().then((function(a){a.size?n(!1):E.firestore().collection("".concat(t)).doc("data").collection("user").add(e).then((function(e){n(e)})).catch((function(e){o(e)}))})).catch((function(e){o(e)})):E.firestore().collection("user").where("phonenumber","==",a).get().then((function(a){a.size?n(!1):E.firestore().collection("".concat(t)).add(e).then((function(e){n(e)})).catch((function(e){o(e)}))})).catch((function(e){o(e)}))}))},S.getProfile=function(e,t){return new Promise((function(a,n){"Ecosystem"!==t?E.firestore().collection("".concat(t)).doc("data").collection("user").where("phonenumber","==",e).limit(1).get().then((function(e){0===e.size?a(!1):a(e.docs[0])})).catch((function(e){n(e)})):E.firestore().collection("user").where("phonenumber","==",e).limit(1).get().then((function(e){0===e.size?a(!1):a(e.docs[0])})).catch((function(e){n(e)}))}))},S.getProfileByUID=function(e,t){return new Promise((function(a,n){"Ecosystem"!==t?E.firestore().collection("".concat(t)).doc("data").collection("user").doc(e).get().then((function(e){e.data()?a(e.data()):a(!1)})).catch((function(e){n(e)})):E.firestore().collection("user").doc(e).get().then((function(e){e.data()?a(e.data()):a(!1)})).catch((function(e){n(e)}))}))},S.findAnswer=function(e,t,a,n){E.database().ref("chatbot/quez").orderByChild("item_room_adjective").equalTo(e+"_"+t+"_"+a).once("value",(function(t){var o=[];if(t.val()&&(o=Object.values(t.val())),o.length){var c=o[0].ticket;E.database().ref("chatbot/answers").orderByChild("ticket").equalTo(c).once("value",(function(e){var t;t=Object.values(e.val()),n(t[0])}))}else E.database().ref("chatbot/quez").orderByChild("item_room_adjective").equalTo(e+"__"+a).once("value",(function(e){if(e.val()){var t=Object.values(e.val())[0].ticket;E.database().ref("chatbot/answers").orderByChild("ticket").equalTo(t).once("value",(function(e){var t;t=Object.values(e.val()),n(t[0])}))}}))}))},S.readMessage=function(e){var t="livechat/"+e;E.database().ref(t).update({unread:null})},S.requestChat=function(e,t,a,n){var o={uid:e,username:t};"Ecosystem"!==a&&(o.brand=a);var c="livechat/"+e;E.database().ref(c).update(o);var r="livechat/"+e+"/tickets/"+(""+n.id).split(".").join("");E.database().ref(r).set({ticket_id:n.id,issue:n.issue,title:n.title,status:n.status,time:n.time,item:n.item?n.item:null,room:n.room?n.room:null,band:n.band?n.band:null,adjective:n.adjective?n.adjective:null,response_sla:n.response_sla?n.response_sla:null,repair_sla:n.repair_sla?n.repair_sla:null})},S.updateProfileRole=function(e,t,a){return new Promise((function(n,o){("Ecosystem"===e?E.firestore().collection("user"):E.firestore().collection(e).doc("data").collection("user")).doc(t).update({renter_owner:a}).then((function(e){n(e)})).catch((function(e){o(e)}))}))},S.initialize();var B=S,N=a(105),P=a.n(N),D=a(106),O=a.n(D),I=function(){return o.a.createElement("div",{className:"typing-loader"},o.a.createElement("span",{className:"dot"}),o.a.createElement("span",{className:"dot"}),o.a.createElement("span",{className:"dot"}))},_=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.color;return o.a.createElement("div",{className:"circle",style:{backgroundColor:e}})}}]),a}(n.Component),T=(n.Component,function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).state={loaded:!1,user_img:a(216)},o}return Object(m.a)(n,[{key:"componentWillMount",value:function(){var e=this,t=this.props,a=t.timeoutValue,n=t.message,o=(t.logo,n.type);setTimeout((function(){"bot"===o&&b.animateScroll.scrollToBottom({duration:0}),e.setState({loaded:!0})}),"bot"===o?a:0)}},{key:"renderMessage",value:function(e){var t=this.props.logo,a=e.message;return"selectbrand"===e.inputType?o.a.createElement("div",{className:"message ".concat("ecosystem"===t?"":"notbolt"),style:{backgroundColor:"white"}},o.a.createElement("img",{src:a.ecopayLogo||a.logo,width:200})):"input"===e.inputType&&"barcode"===e.key?o.a.createElement("div",{className:"message ".concat("ecosystem"===t?"":"notbolt")},o.a.createElement(O.a,{value:a,width:1})):o.a.createElement("div",{className:"message ".concat("ecosystem"===t?"":"notbolt"),style:e.style},o.a.createElement("span",null,P()(a)))}},{key:"render",value:function(){var e=this.props,t=e.firstChild,a=(e.logo,e.icon),n=this.props.message,c=n.type,r=n.message,i=n.src,l=(n.mark,n.end,this.state),s=l.loaded,u=l.user_img;return o.a.createElement("div",{style:"bot"===c?{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start"}:{width:"100%",display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-end"}},"bot"===c&&o.a.createElement("img",{src:a,style:{width:40,height:40,borderRadius:20,flex:"none",objectFit:"contain"},alt:"concierge",className:"avatar"}),i&&o.a.createElement("div",{className:"message-item-wrapper ".concat(s?"loaded":""," ").concat(c," ").concat(t?"first-child":""),style:{width:"100%",height:"200px"}},o.a.createElement(I,null),o.a.createElement("div",{className:"message",style:{backgroundImage:"url(".concat(i,")"),width:"100%",height:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"}})),r&&o.a.createElement("div",{className:"message-item-wrapper ".concat(s?"loaded":""," ").concat(c," ").concat(t?"first-child":"")},o.a.createElement(I,null),this.renderMessage(this.props.message)),"user"===c&&o.a.createElement("img",{src:u,style:{width:40,height:40,borderRadius:20,flex:"none",objectFit:"contain"},alt:"concierge",className:"avatar"}))}}]),n}(n.Component)),L=(a(217),function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.options;if(t&&t.length>0){for(var a=t.length,n=[],c=0;c<a;c++)n.push(c);return o.a.createElement("div",{style:{marginLeft:"40px"}},n.map((function(a){var n=t[a];return o.a.createElement("div",{key:a,className:"row",style:{marginLeft:"0px"}},o.a.createElement("div",{className:"col message-item-wrapper answer-wrapper",onClick:function(){return e.props.setSelectedOption(a)},style:{padding:"2px 4px",margin:"0px"}},o.a.createElement("div",{className:"answer-id"},String.fromCharCode(65+a)),o.a.createElement("div",{className:"btn btn-option"},n.text)))})))}}}]),a}(n.Component)),R=a(218),W=a(219),F=["#E38627","#C13C37","#6A2135","#3c90df","#044792","#82b54b","#00FFFF","#808080","#008080","#808000","#800080","#FF00FF"],M=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={users:[],loading:!0,last_opened_poll:null,last_answered_poll:null,profile:{},brand:{},tabValue:"New Poll",messages:[],optionIndex:-1},n.resetLastPoll=function(){var e=n.state.brand,t=n._getLastOpenedPoll(),a=n._getLastAnsweredPoll();if(a)n.setState({last_answered_poll:a});else{var o=(e.polls||[]).find((function(e){return e.isDemo&&e.closed}));n.setState({last_answered_poll:o})}if(t){n.setState({last_opened_poll:t,messages:[]});var c=[{type:"bot",message:t.question,logo:e.logo,icon:e.icon},{type:"bot",src:t.question_img,logo:e.logo,icon:e.icon},{type:"bot",message:"You'll earn 200 tokens for registering your opinion.",logo:e.logo,icon:e.icon}],r={type:"bot",inputType:"answerButton",options:[]},i=[];if(t.answers&&t.answers.length>0){var l,s=Object(f.a)(t.answers);try{for(s.s();!(l=s.n()).done;){var u=l.value;i.push({text:u.text,value:u.text})}}catch(p){s.e(p)}finally{s.f()}}r.options=i,c.push(r),c.forEach((function(e,t){setTimeout((function(){n.setState({messages:[].concat(Object(d.a)(n.state.messages),[e])}),n.scrollToBottom()}),1e3+2500*t)}))}},n._getLastOpenedPoll=function(){var e=n.state,t=e.profile,a=e.brand.polls,o=t.poll_answers;if(a&&a.length>0){var c=null,r=function(e){var t=a[e];t.closed||(null===c||c&&c.created_at<t.created_at)&&((o||[]).find((function(e){return e.poll_id===t.id}))||(c=t))};for(var i in a)r(i);return c}return null},n._getLastAnsweredPoll=function(){var e=null,t=n.state,a=t.profile,o=t.brand.polls,c=a.poll_answers;if(o&&o.length>0&&c&&c.length>0){var r=c[c.length-1].poll_id;e=o.filter((function(e){return r==e.id}))[0]}return e},n.getAnswersChat=function(e){if(e.isDemo&&"Demo Poll - Where would you like to go on Holiday to next?"===e.question){var t=Object(d.a)(e.answers);return t[0].count=22,t[1].count=2,t[2].count=4,t[3].count=10,t}var a=n.state.users,o=e.answers.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{count:0})}));return a.filter((function(t){return!!(t.poll_answers||[]).find((function(t){return t.poll_id===e.id}))})).forEach((function(t){var a=(t.poll_answers||[]).find((function(t){return t.poll_id===e.id}));a&&(o[a.answer_id].count+=1)})),o},n.tabButtonChanged=function(e){e.preventDefault(),n.setState({tabValue:e.target.value})},n.setSelectedOption=function(e){var t=n.state,a=t.messages,o=t.profile,c=t.brand,r=t.optionIndex,i=t.last_opened_poll,u=a[3].options[e];if(!(r>=0)){n.setState({optionIndex:e});var f=o.poll_answers?o.poll_answers:[];f.push({poll_id:i.id,answer_id:e,time:(new Date).getTime()});var p=o.tokens?o.tokens+200:200;B.updateUserData(c.name,o.uid,{poll_answers:f,tokens:p}).then(function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return n.setState({profile:t}),a=[],e.prev=3,e.next=6,B.getAllUsersInBrand(c.name);case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=[];case 12:n.setState({users:a});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)}));var m=[];m.push({type:"user",message:"I choose "+u.text,logo:c.logo,icon:c.icon}),m.push({type:"bot",message:"Thanks "+o.firstname+", you've earned 200 tokens.",logo:c.logo,icon:c.icon}),m.push({type:"bot",message:"We will notify you on the result and the next poll.",logo:c.logo,icon:c.icon}),m.forEach((function(e,t){setTimeout((function(){n.setState({messages:[].concat(Object(d.a)(n.state.messages),[e])}),n.scrollToBottom(),m.length-1==t&&setTimeout((function(){n.setState({last_opened_poll:null,last_answered_poll:i},(function(){n.scrollToBottom()}))}),2500)}),1e3+2500*t)}))}},n.showPollInfo=function(){var e=n.state,t=e.tabValue,a=e.last_opened_poll,c=e.last_answered_poll,r=e.loading,i=[];return c&&(i=n.getAnswersChat(c)),o.a.createElement("div",null,r&&o.a.createElement("div",{className:"text-center mt-5"},o.a.createElement("i",{className:"fa fa-4x fa-sync fa-spin text-muted"})),!r&&!a&&!c&&o.a.createElement("div",{id:"div-no-active-polls",style:{width:"80%",borderRadius:20,padding:40,margin:"40px 10% 10%"}},o.a.createElement("img",{src:R,width:"100",height:"100",alt:"support",style:{marginBottom:20}}),o.a.createElement("p",{className:"text-center"},"There are currently no active polls. We will notify you when there is a live poll. Did you know, you'll earn tokens from giving your opinion in our polls?")),!r&&(a||c)&&o.a.createElement("div",{id:"poll-left-container"},o.a.createElement("div",{className:"row m-0 align-normal"},o.a.createElement("div",{className:"xs-show switch-bar-wrapper"},o.a.createElement("div",{className:"col-6"},o.a.createElement("button",{type:"button",value:"New Poll",className:"full-width btn btn-tab ".concat("New Poll"===t?"active":""),onClick:function(e){return n.tabButtonChanged(e)}},"New Polls")),o.a.createElement("div",{className:"col-6"},o.a.createElement("button",{type:"button",value:"Poll Result",className:"full-width btn btn-tab ".concat("New Poll"!==t?"active":""),onClick:function(e){return n.tabButtonChanged(e)}},"Poll Results"))),o.a.createElement("div",{className:"content-wrapper-with-only-switch-bar col-lg-6 full-min-height ".concat("New Poll"===t?"xs-tab-show":"xs-tab-hide")},o.a.createElement("h3",{className:"text-center text-bold xs-hide"},"New Polls"),o.a.createElement("div",{className:"offset-sm-1 col-sm-10 col-12 full-min-height-inner"},o.a.createElement("div",{id:"new-poll-container"},a&&n.setMessages(),!a&&o.a.createElement("div",null,o.a.createElement("div",{className:"text-center d-flex justify-content-center bg-white p-5 mx-auto flex-column align-items-center rounded-lg"},o.a.createElement("img",{src:W,width:"100",height:"100",alt:"support",className:"mb-3"}),o.a.createElement("p",{className:"mb-2 font-weight-bold"},"You completed the latest poll, earning 2 tokens for your say."),o.a.createElement("p",null," We'll notify you on the results. ")))))),o.a.createElement("div",{className:"content-wrapper-with-only-switch-bar col-lg-6 pb-4 bg-white xs-m-15 full-min-height ".concat("New Poll"!==t?"xs-tab-show":"xs-tab-hide")},o.a.createElement("h3",{className:"text-center text-bold xs-hide"},"Poll Results"),!c&&o.a.createElement("div",{className:"poll-no-result-wrapper"},o.a.createElement("img",{src:W,width:"100",height:"100",alt:"support",style:{marginBottom:20}}),o.a.createElement("p",{className:"text-center"},"No polls have been answered yet.")),c&&o.a.createElement("div",{className:"poll-result-wrapper"},o.a.createElement("div",{className:"ml-5 xs-m-0"},o.a.createElement("h1",null,c.question),o.a.createElement("h4",null,w()(c.created_at).format("dddd DD/MM/YYYY"))),o.a.createElement("div",{className:"row m-0 "},o.a.createElement("div",{className:"col-8 col-sm-8 xs-center"},o.a.createElement(y.PieChart,{animate:!1,animationDuration:500,animationEasing:"ease-out",cx:50,cy:50,data:i.map((function(e,t){return{color:F[t],title:e.text,value:e.count}})),label:function(e){var t=e.dataEntry;e.dataIndex;return 0===t.percentage?null:Math.round(t.percentage)+"%"},labelPosition:80,labelStyle:{fill:"#fff",fontFamily:"sans-serif",fontSize:"5px"},lengthAngle:360,lineWidth:100,paddingAngle:0,radius:50,rounded:!1,startAngle:0,viewBoxSize:[100,100]})),o.a.createElement("div",{className:"col-12 col-sm-4 xs-p-0"},o.a.createElement("ul",{className:"list-inline text-center mlr-21 inline-column xs-pt-3",id:"legend"},i.map((function(e,t){return o.a.createElement("li",{className:"content-margin",key:t},o.a.createElement("h6",{className:"text-bold fs-13 d-inline-block"},o.a.createElement("i",{className:"fa fa-circle mr-2 xs-full-width",style:{color:F[t]}}),e.text))})))))))),o.a.createElement("div",{className:"clear"})))},n.state={users:[],loading:!0,last_opened_poll:null,last_answered_poll:null,profile:{},brand:{},tabValue:"New Poll",messages:[],optionIndex:-1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("addEventListener",t.data),r=t.data,!/^[\],:{}\s]*$/.test(r.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){e.next=19;break}if(a=JSON.parse(t.data),a.uid,n=a.brand,o=a.profile,this.setState({brand:n,profile:o}),!n){e.next=19;break}return c=[],e.prev=9,e.next=12,B.getAllUsersInBrand(n.name);case 12:c=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),c=[];case 18:this.setState({users:c});case 19:case"end":return e.stop()}var r}),e,this,[[9,15]])})));return function(t){return e.apply(this,arguments)}}()),B.getBrandDataByName("Ecosystem",(function(t){console.log("// brand",t),e.setState({brand:t,loading:!1})})),B.getUserDatafromUID("JwSPBQEfI2kd8tAsoqpV",(function(t){console.log("// profile",t),e.setState({profile:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.brand;t.brand!==a&&this.resetLastPoll()}},{key:"setMessages",value:function(){var e=this,t=this.state.messages;return t&&t.map((function(t,a){return t.inputType?"answerButton"==t.inputType?o.a.createElement(L,{key:a,options:t.options,setSelectedOption:e.setSelectedOption}):void 0:o.a.createElement(T,{message:t,key:a,logo:t.logo,icon:t.icon,timeoutValue:1e3})}))}},{key:"scrollToBottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e?setTimeout((function(){b.animateScroll.scrollToBottom({duration:500,smooth:"easeInOutQuad"})}),e):b.animateScroll.scrollToBottom({duration:500,smooth:"easeInOutQuad"})}},{key:"render",value:function(){return o.a.createElement("div",{id:"page-container"},o.a.createElement("div",{id:"main-container"},this.showPollInfo()))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(63),q=a(49),z=a(108),Y={SAVE_PROFILE:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile})},SAVE_UID:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{uid:t.uid})},SAVE_BRAND:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{brand:t.brand})},SAVE_POST:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{posts:t.posts})},SAVE_USERS:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{users:t.users})},REMOVE:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{profile:null,brand:null,uid:null,posts:null,users:[]})}},U=Object(z.createReducer)({profile:null,uid:"",brand:{},users:[]},Y),Z=Object(q.b)(U);a(273),a(274);r.a.render(o.a.createElement(V.a,null,o.a.createElement(h.a,{store:Z},o.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);