(this.webpackJsonpecopay=this.webpackJsonpecopay||[]).push([[0],{175:function(e,t,a){},176:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(25),r=a.n(c),i=(a(78),a(7)),s=a.n(i),l=a(14),u=a(4),f=a(16),d=a(17),v=a(22),p=a(21),m=a(43),g=(a(84),a(2)),b={"7_day_global_travel_cover":{active:!0,caption:"7 Day Global Travel Cover",description:"Taking care of the travel community with hassle-free-travel insurance through your smartphone. Explanations in plain English, and it's easy to tailor your cover and see instant price changes. So it's clear what you're buying and what you're covered for.",footer_1:"\xa39 one off cost",footer_2:"Save \xa35 on average",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages_quickbuy%2F7%20Day%20Global%20Travel%20Cover.png?alt=media&token=fa46c033-5b77-4d12-bd5c-0090327c121e",isgroup:0,order:7,price:9,type:1},cycling:{active:!1,caption:"Happy Cycling Pack",contents:["Dedicated cycling concierge","Bike cover of up to \xa31000","No excess","Gold Lock","Smart Bike Tracking Sticker","Cycling discounts & access"],description:"Smooth cycling. A dedicated concierge with seamless cover.",footer_1:"\xa310 cost per month",footer_2:"Save \xa3210+ per month",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fbike.jpg?alt=media&token=a48f5b59-9730-4f23-a7df-d7359b577108",isgroup:0,order:5,price:10,type:0},daily_workspace_pass:{active:!0,caption:"Daily Workspace Pass",description:"Discover spaces that inspire your most impactful work, on demand. Our co-working spaces create a community of people who work to make a life, not just a living.\\n They're beautifully designed, stocked with premium amenities.",footer_1:"\xa35 cost per day",footer_2:"Save \xa315 on average",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages_quickbuy%2FDaily%20Workspace%20Access.png?alt=media&token=127fb742-b0f4-4024-9662-8c64ea2d1f65",isgroup:0,order:6,price:5,type:1},gold:{active:!0,caption:"Renter Pack",contents:["Rent without a deposit","Verified renter ID & certificate to share","Damage, Default & Void - No excess","Legal cover for your landlord","Monthly & End of Tenancy Cleaning","Key warrantly and replacement (No excess)"],description:"Rent without a deposit, while covering all risk & cleaning.",footer_1:"\xa350 cost per month",footer_2:"Save \xa3410+ per month",for:1,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fgold.jpg?alt=media&token=7c6d32de-e497-4985-be94-d2ee36706b8c",isgroup:1,order:4,price:50,type:0},health_fitness:{active:!1,caption:"Health & Fitness Pack",contents:["Healthy, well & fit tracker","24 hour health concierge","Access to classes","Access to gyms","Peloton Live Pass","Fitbit watch"],description:"A bespoke health concierge building your wellness, with insider access.",footer_1:"\xa350 cost per month",footer_2:" Save \xa344+ per month",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fhealth.jpg?alt=media&token=8823faaa-fe3c-416e-b70e-e17e3dc097b8",isgroup:0,order:2,price:50,type:0},home:{active:!0,caption:"Serviced Home Pack",contents:["Home concierge services","Energy & Water","Wifi & Netflix","Emergency Maintenance","All Damage","Legal cover & landlord enforcement","Monthly & Checkout Clean"],description:"The dream serviced home, its like staying in a luxury hotel",footer_1:"\xa3200 cost per month",footer_2:"Save \xa3120+ per month",for:1,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fhome.jpg?alt=media&token=3f137ec4-a6c9-47fe-8f84-e8c2c036d1e7",isgroup:1,order:3,price:200,type:0},member:{active:!0,caption:"Membership Pack",contents:["VIP concierge & access","Cashback card - 8-15% back","50% Dining and Cinema","Socials & Parties","Art & Culture","Free monthly mocktail, cocktail or beer","Monthly credit rating update in app"],description:"A VIP Concierge and membership, for those who deserve more for less",footer_1:"\xa310 cost per month",footer_2:"Save \xa3100+ per month",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fmembership.jpg?alt=media&token=1e6fbb2c-a5e4-4031-894c-23207e58a835",isgroup:0,order:0,price:9.99,type:0},mobile_card_reader:{active:!1,caption:"Mobile Card Reader",description:"Take payments with flexible connection by Bluetooth, Wi-Fi and GPRS. It's easy to take payments where your customers are. Accept all major credit and debit cards including Visa, Mastercard, Diners Club International, Discover and American Express.",footer_1:"\xa325+VAT cost per month",footer_2:"Save 15 hours a month",for:0,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2FMobile%20Card%20Reader.png?alt=media&token=d1389590-928c-48a0-99c0-2b61e75d5d65",isgroup:0,order:1,price:10,type:0},owner_home:{active:!0,caption:"Serviced Home Pack",contents:["Home concierge services","Energy & Water","Wifi & Netflix","All Maintenance","All Damage","Monthly Cleaning"],description:"The Dream serviced home, its like staying in a luxury hotel",footer_1:"\xa3150 cost per month",footer_2:"Save \xa3120+ per month",for:2,image:"https://firebasestorage.googleapis.com/v0/b/boltconcierge-2f0f9.appspot.com/o/packages%2Fmembership.jpg?alt=media&token=1e6fbb2c-a5e4-4031-894c-23207e58a835",isgroup:1,order:3,price:150,type:0}};a(94);var h={apiKey:"AIzaSyBlBJtz1oV7_pWAyjrlkxdJ7ZenisHP5sk",projectId:"boltconcierge-2f0f9",databaseURL:"https://boltconcierge-2f0f9.firebaseio.com",storageBucket:"boltconcierge-2f0f9.appspot.com"};function y(e,t){return e.reduce((function(e,a){return n=a,e.some((function(e){return e[t]===n[t]}))?e:e.concat([a]);var n}),[])}var k=function(e,t){return e<t?e+t:t+e},_=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,null,[{key:"initialize",value:function(){g.initializeApp(h)}},{key:"storage",value:function(){return g.storage()}},{key:"getStorage",value:function(){return g.storage}},{key:"firestore",value:function(){return g.firestore()}},{key:"getAllUsersInBrand",value:function(t){return"Ecosystem"===t?e.firestore().collection("user").get().then((function(e){return e.docs.map((function(e){return e.data()}))})):e.firestore().collection(t).doc("data").collection("user").get().then((function(e){return e.docs.map((function(e){return e.data()}))}))}},{key:"getBrandDataByName",value:function(e,t){g.database().ref("brands").orderByChild("name").equalTo(e).on("value",(function(e){var a;a=e.val();var n=Object.values(a).find((function(e){return!e.deactive}));t(n)}))}},{key:"uploadImage",value:function(e,t,a){var n=this,o="/"+a+"/"+t.replace(/[^a-zA-Z]/g,"")+(new Date).valueOf()+".png";return new Promise((function(t,a){var c=n.storage().ref(o);c.putString(e,"base64").then((function(e){c.getDownloadURL().then((function(e){t(e)})).catch((function(e){a(e)}))}))}))}},{key:"addPost",value:function(){var e=Object(l.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.firestore.Timestamp.fromDate(new Date);case 2:return n=e.sent,e.abrupt("return",g.firestore().collection(a).doc("data").collection("post").add({title:t.title,content:t.content,uid:t.uid,timestamp:n,img_url:t.image_url,type:t.type,topic:t.topic,accepted:""}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getUserDatafromUID",value:function(e,t){g.firestore().collection("user").doc("".concat(e)).get().then((function(e){t(e.data())})).catch((function(e){}))}},{key:"getCommunityChats",value:function(e,t,a){var n="community_livechat/"+k(e,t);g.database().ref(n).on("value",(function(e){var t=[],n=e.val();if(n)for(var o in n)t.push(Object(u.a)({messageId:o},n[o]));a(t)}))}},{key:"addCommunityChat",value:function(e,t,a,n){var o=k(e,t),c="community_livechat/".concat(o);g.database().ref(c).push(a,n)}},{key:"removeCommunityChat",value:function(e,t,a,n){var o=k(e,t),c="community_livechat/".concat(o,"/").concat(a);g.database().ref(c).remove(n)}},{key:"getAllTokenEarnings",value:function(t){return e.firestore().collection("token_earning").onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(Object(u.a)({id:e.id},e.data()))})),t(a)}))}},{key:"getAllTicketsById",value:function(e,t){var a="livechat/"+e+"/tickets";g.database().ref(a).on("value",(function(e){var a=[];e.val()&&(a=e.val()),t(a)}))}},{key:"getAllItem",value:function(e){g.database().ref("chatbot/quez").once("value",(function(t){var a=[];t.val()&&(a=t.val());var n=y(a,"item").map((function(e){return e.item}));e(n)}))}},{key:"getAllRoom",value:function(e){g.database().ref("chatbot/rooms").once("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))}},{key:"getAllAdjective",value:function(e){g.database().ref("chatbot/quez").once("value",(function(t){var a=[];t.val()&&(a=t.val());var n=y(a,"adjective").map((function(e){return e.adjective}));e(n)}))}},{key:"getAllWellness",value:function(e){g.database().ref("wellness_tickets").once("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))}},{key:"getRoomByItem",value:function(e,t){g.database().ref("chatbot/quez").orderByChild("item").equalTo(e).once("value",(function(e){var a=[];e.val()&&(a=e.val());var n=(a=Object.values(a)).map((function(e){return{value:e.adjective,label:e.adjective.toLowerCase()}}));if(a.pop().room){var o=y(a,"room").map((function(e){return e.room}));t(o,n)}else t(null,n)}))}},{key:"getLocationByCuisine",value:function(e,t){g.database().ref("restaurant_foods/").orderByChild("cuisine").equalTo(e).once("value",(function(e){var a=[];e.val()&&(a=e.val());var n=y(a=Object.values(a),"location");t(n)}))}},{key:"getAllLocations",value:function(e){g.database().ref("restaurant_foods/").once("value",(function(t){var a=[];t.val()&&(a=t.val());var n=y(a,"location");e(n)}))}},{key:"getAllCuisines",value:function(e){g.database().ref("restaurant_foods/").once("value",(function(t){var a=[];t.val()&&(a=t.val());var n=y(a,"cuisine").map((function(e){return e.cuisine}));e(n)}))}},{key:"getChats",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t+"/content";g.database().ref(n).on("value",(function(e){var t=[];e.val()&&(t=e.val()),a(t)}))}},{key:"getTicketData",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t;g.database().ref(n).on("value",(function(e){var t=[];e.val()&&(t=e.val()),a(t)}))}},{key:"getChatsById",value:function(e,t){var a="livechat/"+e+"/unread";g.database().ref(a).on("value",(function(e){var a=null;e.val()&&(a=e.val()),t(a)}))}},{key:"addMessage",value:function(e,t,a,n){var o="livechat/"+e+"/tickets/"+t+"/content";g.database().ref(o).push().set(a,n(!0))}},{key:"getAllSuperAdmins",value:function(e){g.database().ref("agencies/").orderByChild("role").equalTo(0).on("value",(function(t){var a;a=t.val();var n=Object.values(a);e(n)}))}},{key:"getAgencyTyping",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t+"/agency_typing";g.database().ref(n).on("value",(function(e){e.val()?a(e.val()):a(!1)}))}},{key:"getLandlordTyping",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t+"/landlord_typing";g.database().ref(n).on("value",(function(e){e.val()?a(e.val()):a(!1)}))}},{key:"getContractorTyping",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t+"/contractor_typing";g.database().ref(n).on("value",(function(e){e.val()?a(e.val()):a(!1)}))}},{key:"getStatus",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t+"/status";g.database().ref(n).on("value",(function(e){e.val()&&a(e.val())}))}},{key:"terminateChat",value:function(e,t){var a="livechat/"+e+"/tickets/"+t;return new Promise((function(e,t){g.database().ref(a).update({content:null,status:"Closed"}).then((function(){e("success")})).catch((function(e){t(e)}))}))}},{key:"setTypeValue",value:function(e,t,a){var n="livechat/"+e+"/tickets/"+t;g.database().ref(n).update({user_typing:a})}},{key:"addAvatar",value:function(e,t){var a=this;return new Promise((function(n,o){var c=a.storage().ref("/avatars/".concat(e,".png"));c.putString(t,"base64").then((function(e){c.getDownloadURL().then((function(e){n(e)})).catch((function(e){o(e),console.log(e.message)}))})).catch((function(e){o(e)}))}))}},{key:"updateUserById",value:function(e,t,a){return new Promise((function(n,o){("Ecosystem"===t?g.firestore().collection("user"):g.firestore().collection(t).doc("data").collection("user")).doc("".concat(e)).set(a,{merge:!0})}))}},{key:"addPaymentMethod",value:function(e,t,a){return new Promise((function(n,o){("Ecosystem"===e?g.firestore().collection("user"):g.firestore().collection(e).doc("data").collection("user")).doc(t).collection("braintree_payment_method").add(a).then((function(e){n(e)})).catch((function(e){o(e)}))}))}},{key:"getAllPaymentMethods",value:function(e,t,a){("Ecosystem"===e?g.firestore().collection("user"):g.firestore().collection(e).doc("data").collection("user")).doc(t).collection("braintree_payment_method").onSnapshot((function(e){a(e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})})))}))}},{key:"removePaymentMethod",value:function(e,t,a){return("Ecosystem"===e?g.firestore().collection("user"):g.firestore().collection(e).doc("data").collection("user")).doc(t).collection("braintree_payment_method").doc(a).delete()}},{key:"addSubscription",value:function(e,t,a,n,o,c,r){return new Promise((function(i,s){("Ecosystem"===e?g.firestore().collection("user"):g.firestore().collection(e).doc("data").collection("user")).doc(t).collection("subscriptions").add({product_id:a,type:o,status:n,credit_card:c,amount:r}).then((function(e){i(e)})).catch((function(e){s(e)}))}))}},{key:"getAllSubscriptions",value:function(e,t,a){("Ecosystem"===e?g.firestore().collection("user"):g.firestore().collection(e).doc("data").collection("user")).doc(t).collection("subscriptions").onSnapshot((function(e){a(e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})})))}))}}]),e}();_.getAllBrands=function(e){g.database().ref("brands").on("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))},_.updateUserData=function(e,t,a){return new Promise((function(n,o){var c;(c="Ecosystem"===e?g.firestore().collection("user"):g.firestore().collection(e).doc("data").collection("user")).doc("".concat(t)).set(a,{merge:!0}).then((function(e){c.doc("".concat(t)).get().then((function(e){n(e.data())})).catch((function(e){o(e)}))})).catch((function(e){o(e)}))}))},_.saveTokenSpentHistory=function(e,t,a){return new Promise((function(n,o){("Ecosystem"===e?g.firestore().collection("user"):g.firestore().collection(e).doc("data").collection("user")).doc("".concat(t)).collection("token_history").add(a).then((function(e){n(e)})).catch((function(e){o(e)}))}))},_.getBoltPackages=function(e){g.database().ref("packages/").on("value",(function(t){var a;a=t.val(),e(a)}))},_.getPollsData=function(e){return new Promise((function(t,a){g.firestore().collection(e).doc("data").collection("user").get().then((function(e){var a=[];e.forEach((function(e){var t=e.data();a.push(t)})),t(a)})).catch((function(e){a(e)}))}))},_.subscribeUserDatafromUID=function(e,t,a){"Ecosystem"!==e?g.firestore().collection(e).doc("data").collection("user").doc("".concat(t)).onSnapshot((function(e){a(e.data())})):g.firestore().collection("user").doc("".concat(t)).onSnapshot((function(e){a(e.data())}))},_.addFriend=function(e,t,a){return new Promise((function(n,o){"Ecosystem"!==a?g.firestore().collection("".concat(a)).doc("data").collection("user").where("phonenumber","==",t).get().then((function(c){c.size?n(null):g.firestore().collection("".concat(a)).doc("data").collection("user").add({firstname:e,phonenumber:t,tokens:300}).then((function(e){n(e)})).catch((function(){o(null)}))})).catch((function(){o(null)})):g.firestore().collection("user").where("phonenumber","==",t).get().then((function(c){c.size?o(null):g.firestore().collection("".concat(a)).add({firstname:e,phonenumber:t,tokens:300}).then((function(e){n(e)})).catch((function(){o(null)}))})).catch((function(){o(null)}))}))},_.updateBrandPackage=function(e){var t="brands/"+e;g.database().ref(t).update({packages:b})},_.getAllRetailers=function(e){g.database().ref("retailers/all").on("value",(function(t){var a;a=t.val();var n=Object.keys(a).map((function(e){return Object(u.a)({uid:e},a[e])}));e(n)}))},_.getAllRetailersOnce=function(e){g.database().ref("retailers/all").once("value",(function(t){var a;a=t.val();var n=Object.keys(a).map((function(e){return Object(u.a)({uid:e},a[e])}));e(n)}))},_.getAllDeactiveRetailers=function(e){g.database().ref("retailers/deactive").on("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))},_.getAllDeactiveRetailersOnce=function(e){g.database().ref("retailers/deactive").once("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))},_.getAllOffers=function(e){g.database().ref("offers/redeem_offers").on("value",(function(t){var a;a=t.val();var n=Object.values(a);e(n)}))},_.getAllDeactiveOffers=function(e){g.database().ref("offers/deactive_offers").on("value",(function(t){var a=[];t.val()&&(a=t.val()),e(a)}))},_.getServicesRouting=function(e,t){g.database().ref("brands").orderByChild("name").equalTo(e).on("value",(function(e){var a;a=e.val();var n=Object.values(a)[0];t(n.services_routing)}))},_.getTier1byID=function(e){var t="tier1/"+e;return new Promise((function(e,a){g.database().ref(t).once("value",(function(t){var a=t.val();e(a)}))}))},_.getCategorybyID=function(e){var t="categories/"+e;return new Promise((function(e,a){g.database().ref(t).once("value",(function(t){var a=t.val();e(a)}))}))},_.getCategoryIDbyTitle=function(e){return new Promise((function(t,a){g.database().ref("categories").orderByChild("topic").equalTo(e).once("value",(function(e){var a=[];e.val()&&(a=Object.keys(e.val())),a.length>0?t(a[0]):t(!1)}))}))},_.signup=function(e,t){var a=e.phonenumber;return new Promise((function(n,o){"Ecosystem"!==t?g.firestore().collection("".concat(t)).doc("data").collection("user").where("phonenumber","==",a).get().then((function(a){a.size?n(!1):g.firestore().collection("".concat(t)).doc("data").collection("user").add(e).then((function(e){n(e)})).catch((function(e){o(e)}))})).catch((function(e){o(e)})):g.firestore().collection("user").where("phonenumber","==",a).get().then((function(a){a.size?n(!1):g.firestore().collection("".concat(t)).add(e).then((function(e){n(e)})).catch((function(e){o(e)}))})).catch((function(e){o(e)}))}))},_.getProfile=function(e,t){return new Promise((function(a,n){"Ecosystem"!==t?g.firestore().collection("".concat(t)).doc("data").collection("user").where("phonenumber","==",e).limit(1).get().then((function(e){0===e.size?a(!1):a(e.docs[0])})).catch((function(e){n(e)})):g.firestore().collection("user").where("phonenumber","==",e).limit(1).get().then((function(e){0===e.size?a(!1):a(e.docs[0])})).catch((function(e){n(e)}))}))},_.getProfileByUID=function(e,t){return new Promise((function(a,n){"Ecosystem"!==t?g.firestore().collection("".concat(t)).doc("data").collection("user").doc(e).get().then((function(e){e.data()?a(e.data()):a(!1)})).catch((function(e){n(e)})):g.firestore().collection("user").doc(e).get().then((function(e){e.data()?a(e.data()):a(!1)})).catch((function(e){n(e)}))}))},_.findAnswer=function(e,t,a,n){g.database().ref("chatbot/quez").orderByChild("item_room_adjective").equalTo(e+"_"+t+"_"+a).once("value",(function(t){var o=[];if(t.val()&&(o=Object.values(t.val())),o.length){var c=o[0].ticket;g.database().ref("chatbot/answers").orderByChild("ticket").equalTo(c).once("value",(function(e){var t;t=Object.values(e.val()),n(t[0])}))}else g.database().ref("chatbot/quez").orderByChild("item_room_adjective").equalTo(e+"__"+a).once("value",(function(e){if(e.val()){var t=Object.values(e.val())[0].ticket;g.database().ref("chatbot/answers").orderByChild("ticket").equalTo(t).once("value",(function(e){var t;t=Object.values(e.val()),n(t[0])}))}}))}))},_.readMessage=function(e){var t="livechat/"+e;g.database().ref(t).update({unread:null})},_.requestChat=function(e,t,a,n){var o={uid:e,username:t};"Ecosystem"!==a&&(o.brand=a);var c="livechat/"+e;g.database().ref(c).update(o);var r="livechat/"+e+"/tickets/"+(""+n.id).split(".").join("");g.database().ref(r).set({ticket_id:n.id,issue:n.issue,title:n.title,status:n.status,time:n.time,item:n.item?n.item:null,room:n.room?n.room:null,band:n.band?n.band:null,adjective:n.adjective?n.adjective:null,response_sla:n.response_sla?n.response_sla:null,repair_sla:n.repair_sla?n.repair_sla:null})},_.updateProfileRole=function(e,t,a){return new Promise((function(n,o){("Ecosystem"===e?g.firestore().collection("user"):g.firestore().collection(e).doc("data").collection("user")).doc(t).update({renter_owner:a}).then((function(e){n(e)})).catch((function(e){o(e)}))}))},_.initialize();var w=_,j=(a(95),["UK","Ireland","USA","Canada"]),E={UK:"\xa3",Ireland:"\u20ac",USA:"$",Canada:"$"},O=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.territory,n=void 0===a?j[0]:a,c=e.purchased,r=e.onSubscribe,i=t.caption,s=t.description,l=t.image,u=t.contents,f=t.type,d=t.price;return o.a.createElement("div",{className:"package_container"},o.a.createElement("div",{className:"img_container"},o.a.createElement("div",{style:{width:"100%",height:100,marginBottom:10,backgroundImage:"url(".concat(l,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),o.a.createElement("p",{className:"caption"},i)),o.a.createElement("p",{className:"description"},s),u&&o.a.createElement("div",{className:"package_content"},u&&u.split("\n").map((function(e,t){return o.a.createElement("p",{key:t},"-"!==e?e:"")}))),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},o.a.createElement("div",{className:"footer"},o.a.createElement("p",{style:{fontWeight:"500",fontSize:14,textAlign:"center"}},E[n],d," cost ",0===f&&"pcm")),o.a.createElement("button",{className:"btn",type:"button",style:{marginTop:10,backgroundColor:"#d5fec6"},onClick:r,disabled:c},0===f?"Subscribe":"Purchase",c&&"d"))))}}]),a}(n.Component),S=a(96),C=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://us-central1-boltconcierge-2f0f9.cloudfunctions.net/braintree-checkout",e.next=4,S.post("https://us-central1-boltconcierge-2f0f9.cloudfunctions.net/braintree-checkout",{environment:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_ENVIRONMENT,payment_method_token:t,amount:a});case 4:if(200!==(n=e.sent).status){e.next=9;break}return e.abrupt("return",n.data);case 9:return e.abrupt("return",n);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),P=a(70),A=a.n(P),D={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",maxWidth:"90%"},overlay:{backgroundColor:"rgb(0,0,0,0.4)",zIndex:1e3}},x=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.visible,n=e.caption,c=e.content,r=e.yes,i=e.no,s=e.onYes,l=e.onNo,u=e.onRequestClose;return o.a.createElement(A.a,{isOpen:a,style:D,ariaHideApp:!1,onRequestClose:u},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:20}},t&&o.a.createElement("img",{src:t,width:"82",height:"82",alt:"error"}),o.a.createElement("p",{style:{fontSize:18,padding:10,margin:0}},n),o.a.createElement("p",{style:{fontSize:14,margin:"0 10px",textAlign:"center"}},c),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:40,marginTop:20}},r&&o.a.createElement("button",{className:"btn btn-green",onClick:s},o.a.createElement("p",{style:{fontSize:16}},r)),i&&o.a.createElement("button",{className:"btn btn-green",style:{background:"red"},onClick:l},o.a.createElement("p",{style:{fontSize:16}},i)))))}}]),a}(n.Component),T=a(71),I=a.n(T),B=["UK","Ireland","USA","Canada"],M=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).fetchInfo=function(){var e=n.state,t=e.brand,a=e.uid;w.getAllPaymentMethods(t.name,a,(function(e){n.setState({paymentMethods:e})})),w.getAllSubscriptions(t.name,a,(function(e){return n.setState({subscriptions:e})})),w.getBoltPackages((function(e){var a=t.logo,o=Object.keys(e).reduce((function(t,a){var n=e[a];return t[n.order]=Object(u.a)({id:a},n),t}),[]);console.log("ecosystem packages",o);var c=Object.keys(t.packages||{}).reduce((function(e,a){var n=(t.packages||{})[a];return e[n.order]=Object(u.a)({id:a},n),e}),[]);console.log("brand_packages",c);var r=o.concat(c);console.log("packages",r),n.setState({loading:!1,packages:r,brand_logo:a})}))},n.onSubscribe=function(e){return Object(l.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(a=n.state.paymentMethods).length){t.next=4;break}return n.setState({selectedItem:null,confirmModal:{visible:!0,content:"We need to register a safe linked",title:"No Payment Methods",yes:"Save a card"}}),t.abrupt("return");case 4:n.setState({selectedItem:e,confirmModal:{visible:!0,content:"We are going to charge your card ending ".concat(a[0].details.lastFour," \xa3").concat(e.price," once. Your purchase will then be available to view via your wallet."),title:"Please cofirm",yes:"Confirm",no:"Decline"}});case 5:case"end":return t.stop()}}),t)})))},n.confirmPayment=Object(l.a)(s.a.mark((function e(){var t,a,o,c,r,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({confirmModal:!1}),t=n.props,a=t.brand,o=t.uid,c=n.state,r=c.selectedItem,i=c.paymentMethods,null!==r){e.next=7;break}(window.ReactNativeWebView||window).postMessage("wallet_cards"),e.next=19;break;case 7:if(0!==r.type){e.next=10;break}e.next=19;break;case 10:return e.next=12,C(i[0].token,r.price);case 12:if(!(l=e.sent).data||!l.data.success){e.next=18;break}return e.next=16,w.addSubscription(a.name,o,r.id,"active",r.type,l.data.transaction.creditCard.last4,r.price);case 16:e.next=19;break;case 18:alert("sorry, there is problem on the payment");case 19:case"end":return e.stop()}}),e)}))),n.cancelPayment=function(){n.setState({confirmModal:{visible:!1,content:"",title:""}})},n.onRequestClose=function(){n.setState({confirmModal:{visible:!1,content:"",title:""}})},n.showPackages=function(){var e=n.state,t=e.packages,a=e.subscriptions,c=n.props,r=c.profile,i=c.brand,s=i&&i.territory||B[0];return t.map((function(e,t){if(e.visibility)return o.a.createElement(O,{id:t,data:e,profile:r,territory:e.isBrand?s:B[0],purchased:a.find((function(t){return t.product_id===e.id})),onSubscribe:n.onSubscribe(e)})}))},n.state={packages:[],loading:!0,brand_logo:"",paymentMethods:[],subscriptions:[],confirmModal:{visible:!1,content:"",title:"",yes:"",no:""},selectedItem:null,brand:{},profile:{},uid:""},n.hiddenBtnRef=o.a.createRef(),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("addEventListener",t.data),n=t.data,/^[\],:{}\s]*$/.test(n.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))&&(a=JSON.parse(t.data),a.uid,a.brand,a.profile);case 2:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}()),w.getBrandDataByName("Ecosystem",(function(t){console.log("// brand",t),e.setState({brand:t}),e.fetchInfo()}));var t="JwSPBQEfI2kd8tAsoqpV";this.setState({uid:t}),w.getUserDatafromUID(t,(function(t){console.log("// profile",t),e.setState({profile:t})}))}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this.state.loading;return o.a.createElement("div",{id:"page-container"},o.a.createElement("main",{id:"main-container"},o.a.createElement("div",{className:"div_content h-auto"},e&&o.a.createElement("div",{className:"text-center mt-5"},o.a.createElement("i",{className:"fa fa-4x fa-sync fa-spin text-muted"})),!e&&this.showPackages())),o.a.createElement(x,{visible:this.state.confirmModal.visible,caption:this.state.confirmModal.title,content:this.state.confirmModal.content,yes:this.state.confirmModal.yes,no:this.state.confirmModal.no,icon:I.a,onYes:this.confirmPayment,onNo:this.cancelPayment,onRequestClose:this.onRequestClose}))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(44),N=a(34),q=a(72),z={SAVE_PROFILE:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile})},SAVE_UID:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{uid:t.uid})},SAVE_BRAND:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{brand:t.brand})},SAVE_POST:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{posts:t.posts})},SAVE_USERS:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{users:t.users})},REMOVE:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{profile:null,brand:null,uid:null,posts:null,users:[]})}},U=Object(q.createReducer)({profile:null,uid:"",brand:{},users:[]},z),W=Object(N.b)(U);a(175),a(176);r.a.render(o.a.createElement(R.a,null,o.a.createElement(m.a,{store:W},o.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},71:function(e,t,a){e.exports=a.p+"static/media/smartphone.88cbafa2.png"},73:function(e,t,a){e.exports=a(178)},78:function(e,t,a){},84:function(e,t,a){},95:function(e,t,a){}},[[73,1,2]]]);